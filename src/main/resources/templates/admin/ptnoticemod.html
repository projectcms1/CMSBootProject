<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<title>포털 공지사항 수정</title>
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700&display=swap">
	<link rel="stylesheet" href="/assets/css/indexstyles.css">
</head>
<style>
	/* 화면을 전체화면으로 설정 */
	.container {
		width: 100vw;
		height: 100vh;
		padding: 20px;
		box-sizing: border-box;
	}

	.notice-item {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 10px;
	}

	.notice-item div {
		flex-grow: 1;
	}

	.notice-item button {
		margin-left: 10px;
		padding: 5px 10px;
		border: none;
		border-radius: 5px;
		cursor: pointer;
	}

	.notice-item .edit-btn {
		background-color: #007bff;
		color: white;
	}

	.notice-item .edit-btn:hover {
		background-color: #0056b3;
	}

	.notice-item .delete-btn {
		background-color: #ff4d4d;
		color: white;
	}

	.notice-item .delete-btn:hover {
		background-color: #e60000;
	}

	.notice-list {
		width: 100%;
	}

	/* 수정 폼 스타일 */
	.notice-edit {
		width: 600px;
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background-color: white;
		padding: 30px;
		border-radius: 10px;
		box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.3);
		z-index: 1000;
		display: none;
	}

	.notice-edit.active {
		display: block;
	}

	/* 모달 창이 열릴 때 배경 어둡게 */
	.modal-overlay {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		background-color: rgba(0, 0, 0, 0.5);
		z-index: 999;
		display: none;
	}

	.modal-overlay.active {
		display: block;
	}

	/* 폼 스타일 */
	.notice-edit form {
		display: flex;
		flex-direction: column;
	}

	.notice-edit label {
		margin-bottom: 5px;
		font-weight: bold;
	}

	.notice-edit input,
	.notice-edit textarea,
	.notice-edit select {
		margin-bottom: 10px;
		padding: 10px;
		border-radius: 5px;
		border: 1px solid #ccc;
	}

	.notice-edit input[type="checkbox"] {
		width: auto;
	}

	.notice-edit button {
		background-color: #007bff;
		color: white;
		padding: 10px;
		border: none;
		border-radius: 5px;
		cursor: pointer;
	}

	.notice-edit button:hover {
		background-color: #0056b3;
	}

	/* 첨부파일 스타일 */
	.notice-edit input[type="file"] {
		padding: 5px;
		border: none;
	}
</style>

<body>
	<div class="container">
		<div class="notices">
			<h2>공지사항</h2><br>
			<div class="notice-header">
				<div class="category-tabs">
					<button class="category active" data-category="total">전체</button>
					<button class="category" data-category="academic">학사</button>
					<button class="category" data-category="scholarship">장학</button>
					<button class="category" data-category="volunteer">봉사</button>
					<button class="category" data-category="international">국제교류</button>
					<button class="category" data-category="events">비교과·행사</button>
					<button class="category" data-category="employee">교직원</button>
				</div>
			</div>

			<!-- Notices Lists -->
			<ul class="notice-list" id="total">
				<li class="notice-item">
					<div><a href="#">2024-2학기 온라인 강좌 증원 추가 안내</a> <span class="date">2024-09-02</span></div>
					<button class="edit-btn" data-title="2024-2학기 온라인 강좌 증원 추가 안내" data-date="2024-09-02">수정</button>
					<button class="delete-btn" data-title="2024-2학기 온라인 강좌 증원 추가 안내">삭제</button>
				</li>
			</ul>

			<ul class="notice-list hidden" id="academic">
				<li class="notice-item">
					<div><a href="#">2024-2학기 소그룹채플 안내</a> <span class="date">2024-08-30</span></div>
					<button class="edit-btn" data-title="2024-2학기 소그룹채플 안내" data-date="2024-08-30">수정</button>
					<button class="delete-btn" data-title="2024-2학기 소그룹채플 안내">삭제</button>
				</li>
			</ul>

			<ul class="notice-list hidden" id="scholarship">
				<li class="notice-item">
					<div><a href="#">2024-장학금 신청 안내</a> <span class="date">2024-08-25</span></div>
					<button class="edit-btn" data-title="2024-장학금 신청 안내" data-date="2024-08-25">수정</button>
					<button class="delete-btn" data-title="2024-장학금 신청 안내">삭제</button>
				</li>
			</ul>

			<ul class="notice-list hidden" id="volunteer">
				<li class="notice-item">
					<div><a href="#">봉사활동 참가 신청 안내</a> <span class="date">2024-08-20</span></div>
					<button class="edit-btn" data-title="봉사활동 참가 신청 안내" data-date="2024-08-20">수정</button>
					<button class="delete-btn" data-title="봉사활동 참가 신청 안내">삭제</button>
				</li>
			</ul>

			<ul class="notice-list hidden" id="international">
				<li class="notice-item">
					<div><a href="#">2024-2학기 국제교류 프로그램 안내</a> <span class="date">2024-08-18</span></div>
					<button class="edit-btn" data-title="2024-2학기 국제교류 프로그램 안내" data-date="2024-08-18">수정</button>
					<button class="delete-btn" data-title="2024-2학기 국제교류 프로그램 안내">삭제</button>
				</li>
			</ul>

			<ul class="notice-list hidden" id="events">
				<li class="notice-item">
					<div><a href="#">비교과 행사 안내</a> <span class="date">2024-08-10</span></div>
					<button class="edit-btn" data-title="비교과 행사 안내" data-date="2024-08-10">수정</button>
					<button class="delete-btn" data-title="비교과 행사 안내">삭제</button>
				</li>
			</ul>

		</div>
	</div>

	<!-- 모달 배경 -->
	<div class="modal-overlay" id="modalOverlay"></div>

	<!-- 공지사항 수정 폼 -->
	<div class="notice-edit" id="editForm">
		<h3>공지사항 수정</h3>
		<form>
			<label for="id">공지사항 일련번호</label>
			<input type="text" id="id" name="id" readonly>

			<label for="title">공지사항 제목</label>
			<input type="text" id="title" name="title">

			<label for="category">공지 분류명</label>
			<select id="category" name="category">
				<option value="academic">학사</option>
				<option value="scholarship">장학</option>
				<option value="volunteer">봉사</option>
				<option value="international">국제교류</option>
				<option value="events">비교과·행사</option>
				<option value="employee">교직원</option>
			</select>

			<label for="author">작성자명</label>
			<input type="text" id="author" name="author" readonly>

			<label for="date">작성일시</label>
			<input type="text" id="date" name="date" readonly>
			
			<label for="content">내용</label><br>
			<textarea id="content" name="content" rows="5"></textarea><br><br>

			<label for="fix">공지 고정
			<input type="checkbox" id="fix" name="fix"></label>

			<label for="file">첨부파일</label>
			<input type="file" id="file" name="file"><br>

			<button type="submit">수정 완료</button>
		</form>
	</div>

	<script>

		// 모든 카테고리 버튼에 대해 클릭 이벤트를 설정합니다.
		document.querySelectorAll('.category').forEach(button => {
			button.addEventListener('click', function () {
				// 모든 카테고리 버튼에서 'active' 클래스를 제거합니다.
				document.querySelectorAll('.category').forEach(btn => btn.classList.remove('active'));

				// 클릭한 카테고리 버튼에 'active' 클래스를 추가합니다.
				this.classList.add('active');

				// 클릭한 카테고리 확인
				const category = this.getAttribute('data-category');

				// 전체 카테고리가 선택된 경우 모든 공지사항 리스트를 보여줍니다.
				if (category === 'total') {
					document.querySelectorAll('.notice-list').forEach(list => {
						list.classList.remove('hidden');
						list.classList.add('fade-in'); // 전환 효과 추가
					});
				} else {
					// 다른 카테고리가 선택된 경우 해당 카테고리의 리스트만 표시하고 나머지는 숨깁니다.
					document.querySelectorAll('.notice-list').forEach(list => {
						list.classList.add('hidden');
						list.classList.remove('fade-in'); // 이전에 적용된 전환 효과 제거
					});

					// 선택한 카테고리 리스트를 표시하고 전환 효과 추가
					const activeList = document.getElementById(category);
					activeList.classList.remove('hidden');
					activeList.classList.add('fade-in'); // 전환 효과 추가
				}
			});
		});

		// 수정 버튼 클릭 시 수정 폼 열기
		document.querySelectorAll('.edit-btn').forEach(button => {
			button.addEventListener('click', function () {
				const title = this.getAttribute('data-title');
				const date = this.getAttribute('data-date');

				// 폼에 클릭한 공지사항 데이터 입력
				document.getElementById('title').value = title;
				document.getElementById('date').value = date;

				// 수정 폼과 모달 배경 보이기
				document.getElementById('editForm').classList.add('active');
				document.getElementById('modalOverlay').classList.add('active');
			});
		});

		// 모달 창을 닫기 위해 배경 클릭 시 수정 폼 닫기
		document.getElementById('modalOverlay').addEventListener('click', function () {
			document.getElementById('editForm').classList.remove('active');
			document.getElementById('modalOverlay').classList.remove('active');
		});
	</script>
</body>

</html>